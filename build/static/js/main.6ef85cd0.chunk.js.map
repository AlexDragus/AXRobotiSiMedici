{"version":3,"sources":["RobotInterface.js","index.js"],"names":["RobotInterface","Container","maxWidth","id","src","height","alt","width","rowspan","class","createMuiTheme","palette","primary","blue","secondary","green","ReactDOM","render","document","getElementById","socket","sensorColor0","sensorColor1","sensorColor2","sensorColor3","sensorColor4","sensorColor5","send_data_to_server","data","send","computeColor","distance","state","prev_state","console","log","WebSocket","addEventListener","event","read","toString","sensorsInfo","JSON","parse","sensorDistance0","sensorDistance1","sensorDistance2","sensorDistance3","sensorDistance4","sensorDistance5","computeColorDistanceSensors","style","opacity","updateSensors","close","keycode","keyCode","which","color"],"mappings":"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","file":"static/js/main.6ef85cd0.chunk.js","sourcesContent":["import React from 'react';\nimport Container from '@material-ui/core/Container';\nimport Icon from '@material-ui/core/Icon';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\nimport SpaceBarIcon from '@material-ui/icons/SpaceBar';\nimport PanToolIcon from '@material-ui/icons/PanTool';\n\nfunction RobotInterface() {\n  return (\n    <div>\n    <Container maxWidth=\"md\" id=\"container\"> \n            <img id=\"logoproiect\" src=\"logo_proiect.png\" height=\"100\" alt=\"Xeo Hospital Robot\"/>\n            {/*<img id=\"videostream\" src=\"hospital_hallway.jpg\" alt=\"stream video\" />\n            */}<img src=\"http://192.168.0.125:81/stream.mjpg\" width=\"640\" height=\"480\" alt=\"stream video\" />\n            \n            <table id=\"arrow-table\">\n              <tr>\n                <td></td>\n                <td>\n                  <KeyboardArrowUpIcon id=\"up-arrow\"/>\n                </td>\n                <td></td>\n                <td id=\"macheta_senzori_box\" rowspan=\"3\">\n                <img class=\"macheta_senzori\" id=\"macheta_senzori_verde_fata\" src=\"macheta_senzori_verde_fata.png\" alt=\"macheta senzori\"/>\n                <img class=\"macheta_senzori\" id=\"macheta_senzori_verde_stanga\" src=\"macheta_senzori_verde_stanga.png\" alt=\"macheta senzori\"/>\n                <img class=\"macheta_senzori\" id=\"macheta_senzori_verde_dreapta\" src=\"macheta_senzori_verde_dreapta.png\" alt=\"macheta senzori\"/>\n                <img class=\"macheta_senzori\" id=\"macheta_senzori_verde_spate\" src=\"macheta_senzori_verde_spate.png\" alt=\"macheta senzori\"/>\n                <img class=\"macheta_senzori\" id=\"macheta_senzori_galben_fata\" src=\"macheta_senzori_galben_fata.png\" alt=\"macheta senzori\"/>\n                <img class=\"macheta_senzori\" id=\"macheta_senzori_galben_stanga\" src=\"macheta_senzori_galben_stanga.png\" alt=\"macheta senzori\"/>\n                <img class=\"macheta_senzori\" id=\"macheta_senzori_galben_dreapta\" src=\"macheta_senzori_galben_dreapta.png\" alt=\"macheta senzori\"/>\n                <img class=\"macheta_senzori\" id=\"macheta_senzori_galben_spate\" src=\"macheta_senzori_galben_spate.png\" alt=\"macheta senzori\"/>\n                <img class=\"macheta_senzori\" id=\"macheta_senzori_rosu_fata\" src=\"macheta_senzori_rosu_fata.png\" alt=\"macheta senzori\"/>\n                <img class=\"macheta_senzori\" id=\"macheta_senzori_rosu_stanga\" src=\"macheta_senzori_rosu_stanga.png\" alt=\"macheta senzori\"/>\n                <img class=\"macheta_senzori\" id=\"macheta_senzori_rosu_dreapta\" src=\"macheta_senzori_rosu_dreapta.png\" alt=\"macheta senzori\"/>\n                <img class=\"macheta_senzori\" id=\"macheta_senzori_rosu_spate\" src=\"macheta_senzori_rosu_spate.png\" alt=\"macheta senzori\"/>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <KeyboardArrowLeftIcon id=\"left-arrow\"/>\n                </td>\n                <td>\n                  <SpaceBarIcon id=\"space-arrow\"/>\n                </td>\n                <td>\n                  <KeyboardArrowRightIcon id=\"right-arrow\"/>\n                  <PanToolIcon id=\"stop-arrow\"/>\n                </td>\n              </tr>\n              <tr>\n                <td></td>\n                <td>\n                  <KeyboardArrowDownIcon id=\"down-arrow\"/>\n                </td>\n                <td></td>\n              </tr>\n            </table>\n    </Container>\n    </div>\n  );\n}\n\nexport default RobotInterface;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport RobotInterface from './RobotInterface';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\nimport green from '@material-ui/core/colors/green';\nimport io from \"socket.io-client\"\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: blue,\n    secondary: green,\n  },\n});\n\nReactDOM.render(<RobotInterface />, document.getElementById('appbody'));\n\nvar command_count = 0;\n/*var ws;\nfunction connect_to_server(data){ \n\tws = io('ws://192.168.0.125:8765', {transports: ['websocket']});\n    ws.on('connect', function() {\n        ws.emit('my connect', {data: 'I\\'m connected!'});\n    });     \n}\n\nfunction send_data_to_server(data){\n\t\tws.emit('my moves', data);\n\t\tcommand_count++;\n\t\tif (command_count > 15) {\n\t\t\tconnect_to_server(state);\n\t\t\tcommand_count = 0;\n\t\t}\n}*/\n\nvar socket;\nfunction connect_to_server(data){\n\tsocket = new WebSocket('ws://192.168.0.125:8765');\n\tsocket.addEventListener('open', function (event) {\n    \tsocket.send('Hello server!');\n\t});\n\n\tsocket.addEventListener('message', function (event) {\n\t    console.log('Message from server ', event.data);\n\t    const read = event.data.toString('utf8');\n\t    //const sensorsInfo = JSON.parse( read.substring(0, read.length-1) );\n\n\t\tvar sensorsInfo = JSON.parse(read);\n\t    console.log(sensorsInfo);\n\t    //const sensorsInfo = JSON.parse(event.data);\n\t    updateSensors(sensorsInfo);\n\t});\n\n\tsocket.addEventListener('close', function (event) {\n\t    console.log('Connection closed with the server');\n\t    socket.close();\n\t});\n}\n\nfunction send_data_to_server(data){\n\tsocket.send(data);\n}\n\nfunction computeColor(distance){\n\tif (distance < 150) {\n\t\treturn \"red\";\n\t} else if (distance < 500) {\n\t\treturn \"yellow\";\n\t} else\n\t\treturn \"green\";\n}\n\nvar sensorColor0;\nvar sensorColor1;\nvar sensorColor2;\nvar sensorColor3;\nvar sensorColor4;\nvar sensorColor5;\n\nfunction computeColorDistanceSensors(sensorsInfo) {\n\tvar sensorDistance0 = sensorsInfo[\"sensor_0\"];\n\tvar sensorDistance1 = sensorsInfo[\"sensor_1\"];\n\tvar sensorDistance2 = sensorsInfo[\"sensor_2\"];\n\tvar sensorDistance3 = sensorsInfo[\"sensor_3\"];\n\tvar sensorDistance4 = sensorsInfo[\"sensor_4\"];\n\tvar sensorDistance5 = sensorsInfo[\"sensor_5\"];\n\tsensorColor0 = computeColor(sensorDistance0);\n\tsensorColor1 = computeColor(sensorDistance1);\n\tsensorColor2 = computeColor(sensorDistance2);\n\tsensorColor3 = computeColor(sensorDistance3);\n\tsensorColor4 = computeColor(sensorDistance4);\n\tsensorColor5 = computeColor(sensorDistance5);\n}\n\nfunction  updateSensors(sensorsInfo){\n\n\tcomputeColorDistanceSensors(sensorsInfo);\n\n\t// front ///////////////////////////////////////////////////////////\n\tif (sensorColor0 == \"red\" || sensorColor4 == \"red\") {\n\t\tdocument.getElementById('macheta_senzori_verde_fata').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_fata').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_fata').style.opacity = 1;\n\t} else if (sensorColor0 == \"yellow\" || sensorColor4 == \"yellow\") {\n\t\tdocument.getElementById('macheta_senzori_verde_fata').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_fata').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_rosu_fata').style.opacity = 0;\n\t} else { // green\n\t\tdocument.getElementById('macheta_senzori_verde_fata').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_galben_fata').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_fata').style.opacity = 0;\n\t}\n\t// right ///////////////////////////////////////////////////////////\n\tif (sensorColor1 == \"red\") {\n\t\tdocument.getElementById('macheta_senzori_verde_dreapta').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_dreapta').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_dreapta').style.opacity = 1;\n\t} else if (sensorColor1 == \"yellow\") {\n\t\tdocument.getElementById('macheta_senzori_verde_dreapta').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_dreapta').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_rosu_dreapta').style.opacity = 0;\n\t} else { // green\n\t\tdocument.getElementById('macheta_senzori_verde_dreapta').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_galben_dreapta').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_dreapta').style.opacity = 0;\n\t}\n\t// back ///////////////////////////////////////////////////////////\n\tif (sensorColor2 == \"red\" || sensorColor5 == \"red\") {\n\t\tdocument.getElementById('macheta_senzori_verde_spate').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_spate').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_spate').style.opacity = 1;\n\t} else if (sensorColor2 == \"yellow\" || sensorColor5 == \"yellow\") {\n\t\tdocument.getElementById('macheta_senzori_verde_spate').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_spate').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_rosu_spate').style.opacity = 0;\n\t} else { // green\n\t\tdocument.getElementById('macheta_senzori_verde_spate').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_galben_spate').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_spate').style.opacity = 0;\n\t}\n\t// left ///////////////////////////////////////////////////////////\n\tif (sensorColor3 == \"red\") {\n\t\tdocument.getElementById('macheta_senzori_verde_stanga').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_stanga').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_stanga').style.opacity = 1;\n\t} else if (sensorColor3 == \"yellow\") {\n\t\tdocument.getElementById('macheta_senzori_verde_stanga').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_stanga').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_rosu_stanga').style.opacity = 0;\n\t} else { // green\n\t\tdocument.getElementById('macheta_senzori_verde_stanga').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_galben_stanga').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_stanga').style.opacity = 0;\n\t}\n}\n\nvar prev_state = \"connected\";\nvar state;\nconst keyDownFunction = function(event) {\n\tvar keycode = (event.keyCode ? event.keyCode : event.which);\n\tconsole.log(keycode);\n\tprev_state = state;\n\t/*up*/\n\tif (keycode == '38'){\n\t\tstate = \"front\";\n\t\tdocument.getElementById(\"up-arrow\").style.color = \"#34eb71\";\n\t}\n\n\t/*right*/\n\tif (keycode == '39'){\n\t\tstate = \"right\";\n\t\tdocument.getElementById(\"right-arrow\").style.color = \"#34eb71\";\n\t}\n\n\t/*down*/\n\tif (keycode == '40'){\n\t\tstate = \"back\";\n\t\tdocument.getElementById(\"down-arrow\").style.color = \"#34eb71\";\n\t}\n\n\t/*left*/\n\tif (keycode == '37'){ \n\t\tstate = \"left\";\n\t\tdocument.getElementById(\"left-arrow\").style.color = \"#34eb71\";\n\t}\n\n\t/*stop - spacebar*/\n\tif (keycode == '32'){\n\t\tstate = \"stop\";\n\t\tdocument.getElementById(\"space-arrow\").style.color = \"#ff0000\";\n\t}\n\n\tif (prev_state != state) {\n\t\tconsole.log(state);\n\t\tsend_data_to_server(state);\n\t}\n}\n\nconst keyUpFunction = function(event) {\n\tvar keycode = (event.keyCode ? event.keyCode : event.which);\n\tconsole.log(keycode);\n\tprev_state = state;\n\t/*up*/\n\tif (keycode == '38'){\n\t\tstate = \"stop\";\n\t\tdocument.getElementById(\"up-arrow\").style.color = \"#000000\";\n\t}\n\n\t/*right*/\n\tif (keycode == '39'){\n\t\tstate = \"stop\";\n\t\tdocument.getElementById(\"right-arrow\").style.color = \"#000000\";\n\t}\n\n\t/*down*/\n\tif (keycode == '40'){\n\t\tstate = \"stop\";\n\t\tdocument.getElementById(\"down-arrow\").style.color = \"#000000\";\n\t}\n\n\t/*left*/\n\tif (keycode == '37'){ \n\t\tstate = \"stop\";\n\t\tdocument.getElementById(\"left-arrow\").style.color = \"#000000\";\n\t}\n\n\t/*stop - spacebar*/\n\tif (keycode == '32'){\n\t\tstate = \"stop\";\n\t\tdocument.getElementById(\"space-arrow\").style.color = \"#000000\";\n\t}\n\t\tstate = \"stop\";\n\n\tconsole.log(state);\n\tsend_data_to_server(state);\n}\n\nconsole.log(\"websockets connected\");\nconnect_to_server(\"websockets connected\");\ndocument.addEventListener(\"keydown\", keyDownFunction, false);\ndocument.addEventListener(\"keyup\", keyUpFunction, false);"],"sourceRoot":""}