{"ast":null,"code":"var _jsxFileName = \"/home/alexdragus14/Desktop/website_robot_spital/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport RobotInterface from './RobotInterface';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\nimport green from '@material-ui/core/colors/green';\nimport io from \"socket.io-client\";\nconst theme = createMuiTheme({\n  palette: {\n    primary: blue,\n    secondary: green\n  }\n});\nReactDOM.render( /*#__PURE__*/React.createElement(RobotInterface, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 17\n  }\n}), document.getElementById('appbody'));\nvar command_count = 0;\n/*var ws;\nfunction connect_to_server(data){ \n\tws = io('ws://192.168.0.125:8765', {transports: ['websocket']});\n    ws.on('connect', function() {\n        ws.emit('my connect', {data: 'I\\'m connected!'});\n    });     \n}\n\nfunction send_data_to_server(data){\n\t\tws.emit('my moves', data);\n\t\tcommand_count++;\n\t\tif (command_count > 15) {\n\t\t\tconnect_to_server(state);\n\t\t\tcommand_count = 0;\n\t\t}\n}*/\n\nvar socket;\n\nfunction connect_to_server(data) {\n  socket = new WebSocket('ws://192.168.0.125:8765');\n  socket.addEventListener('open', function (event) {\n    socket.send('Hello server!');\n  });\n  socket.addEventListener('message', function (event) {\n    console.log('Message from server ', event.data);\n    const sensorsInfo = JSON.parse(event.data);\n    updateSensors(sensorsInfo);\n  });\n  socket.addEventListener('close', function (event) {\n    console.log('Connection closed with the server');\n    socket.close();\n  });\n}\n\nfunction send_data_to_server(data) {\n  socket.send(data);\n}\n\nfunction computeColor(distance) {\n  if (distance < 150) {\n    return \"red\";\n  } else if (distance < 500) {\n    return \"yellow\";\n  } else return \"green\";\n}\n\nvar sensorColor0;\nvar sensorColor1;\nvar sensorColor2;\nvar sensorColor3;\nvar sensorColor4;\nvar sensorColor5;\n\nfunction computeColorDistanceSensors() {}\n\nfunction updateSensors(sensorsInfo) {\n  var sensorDistance0 = sensorsInfo[\"sensor_0\"];\n  var sensorDistance1 = sensorsInfo[\"sensor_1\"];\n  var sensorDistance2 = sensorsInfo[\"sensor_2\"];\n  var sensorDistance3 = sensorsInfo[\"sensor_3\"];\n  var sensorDistance4 = sensorsInfo[\"sensor_4\"];\n  var sensorDistance5 = sensorsInfo[\"sensor_5\"];\n  computeColorDistanceSensors(); // front ///////////////////////////////////////////////////////////\n\n  if (sensorColor0 == \"red\" || sensorColor1 == \"red\") {\n    document.getElementById('macheta_senzori_verde_fata').style.opacity = 0;\n    document.getElementById('macheta_senzori_galben_fata').style.opacity = 0;\n    document.getElementById('macheta_senzori_rosu_fata').style.opacity = 1;\n  } else if (sensorColor0 == \"yellow\" || sensorColor1 == \"yellow\") {\n    document.getElementById('macheta_senzori_verde_fata').style.opacity = 0;\n    document.getElementById('macheta_senzori_galben_fata').style.opacity = 1;\n    document.getElementById('macheta_senzori_rosu_fata').style.opacity = 0;\n  } else {\n    // green\n    document.getElementById('macheta_senzori_verde_fata').style.opacity = 1;\n    document.getElementById('macheta_senzori_galben_fata').style.opacity = 0;\n    document.getElementById('macheta_senzori_rosu_fata').style.opacity = 0;\n  } // right ///////////////////////////////////////////////////////////\n\n\n  if (sensorColor2 == \"red\") {\n    document.getElementById('macheta_senzori_verde_dreapta').style.opacity = 0;\n    document.getElementById('macheta_senzori_galben_dreapta').style.opacity = 0;\n    document.getElementById('macheta_senzori_rosu_dreapta').style.opacity = 1;\n  } else if (sensorColor2 == \"yellow\") {\n    document.getElementById('macheta_senzori_verde_dreapta').style.opacity = 0;\n    document.getElementById('macheta_senzori_galben_dreapta').style.opacity = 1;\n    document.getElementById('macheta_senzori_rosu_dreapta').style.opacity = 0;\n  } else {\n    // green\n    document.getElementById('macheta_senzori_verde_dreapta').style.opacity = 1;\n    document.getElementById('macheta_senzori_galben_dreapta').style.opacity = 0;\n    document.getElementById('macheta_senzori_rosu_dreapta').style.opacity = 0;\n  } // back ///////////////////////////////////////////////////////////\n\n\n  if (sensorColor3 == \"red\" || sensorColor4 == \"red\") {\n    document.getElementById('macheta_senzori_verde_spate').style.opacity = 0;\n    document.getElementById('macheta_senzori_galben_spate').style.opacity = 0;\n    document.getElementById('macheta_senzori_rosu_spate').style.opacity = 1;\n  } else if (sensorColor3 == \"yellow\" || sensorColor4 == \"yellow\") {\n    document.getElementById('macheta_senzori_verde_spate').style.opacity = 0;\n    document.getElementById('macheta_senzori_galben_spate').style.opacity = 1;\n    document.getElementById('macheta_senzori_rosu_spate').style.opacity = 0;\n  } else {\n    // green\n    document.getElementById('macheta_senzori_verde_spate').style.opacity = 1;\n    document.getElementById('macheta_senzori_galben_spate').style.opacity = 0;\n    document.getElementById('macheta_senzori_rosu_spate').style.opacity = 0;\n  } // left ///////////////////////////////////////////////////////////\n\n\n  if (sensorColor5 == \"red\") {\n    document.getElementById('macheta_senzori_verde_stanga').style.opacity = 0;\n    document.getElementById('macheta_senzori_galben_stanga').style.opacity = 0;\n    document.getElementById('macheta_senzori_rosu_stanga').style.opacity = 1;\n  } else if (sensorColor5 == \"yellow\") {\n    document.getElementById('macheta_senzori_verde_stanga').style.opacity = 0;\n    document.getElementById('macheta_senzori_galben_stanga').style.opacity = 1;\n    document.getElementById('macheta_senzori_rosu_stanga').style.opacity = 0;\n  } else {\n    // green\n    document.getElementById('macheta_senzori_verde_stanga').style.opacity = 1;\n    document.getElementById('macheta_senzori_galben_stanga').style.opacity = 0;\n    document.getElementById('macheta_senzori_rosu_stanga').style.opacity = 0;\n  }\n}\n\nvar prev_state = \"connected\";\nvar state;\n\nconst keyDownFunction = function (event) {\n  var keycode = event.keyCode ? event.keyCode : event.which;\n  console.log(keycode);\n  prev_state = state;\n  /*up*/\n\n  if (keycode == '38') {\n    state = \"front\";\n    document.getElementById(\"up-arrow\").style.color = \"#34eb71\";\n  }\n  /*right*/\n\n\n  if (keycode == '39') {\n    state = \"right\";\n    document.getElementById(\"right-arrow\").style.color = \"#34eb71\";\n  }\n  /*down*/\n\n\n  if (keycode == '40') {\n    state = \"back\";\n    document.getElementById(\"down-arrow\").style.color = \"#34eb71\";\n  }\n  /*left*/\n\n\n  if (keycode == '37') {\n    state = \"left\";\n    document.getElementById(\"left-arrow\").style.color = \"#34eb71\";\n  }\n  /*stop - spacebar*/\n\n\n  if (keycode == '32') {\n    state = \"stop\";\n    document.getElementById(\"space-arrow\").style.color = \"#ff0000\";\n  }\n\n  if (prev_state != state) {\n    console.log(state);\n    send_data_to_server(state);\n  }\n};\n\nconst keyUpFunction = function (event) {\n  var keycode = event.keyCode ? event.keyCode : event.which;\n  console.log(keycode);\n  prev_state = state;\n  /*up*/\n\n  if (keycode == '38') {\n    state = \"stop\";\n    document.getElementById(\"up-arrow\").style.color = \"#000000\";\n  }\n  /*right*/\n\n\n  if (keycode == '39') {\n    state = \"stop\";\n    document.getElementById(\"right-arrow\").style.color = \"#000000\";\n  }\n  /*down*/\n\n\n  if (keycode == '40') {\n    state = \"stop\";\n    document.getElementById(\"down-arrow\").style.color = \"#000000\";\n  }\n  /*left*/\n\n\n  if (keycode == '37') {\n    state = \"stop\";\n    document.getElementById(\"left-arrow\").style.color = \"#000000\";\n  }\n  /*stop - spacebar*/\n\n\n  if (keycode == '32') {\n    state = \"stop\";\n    document.getElementById(\"space-arrow\").style.color = \"#000000\";\n  }\n\n  state = \"stop\";\n  console.log(state);\n  send_data_to_server(state);\n};\n\nconsole.log(\"websockets connected\");\nconnect_to_server(\"websockets connected\");\ndocument.addEventListener(\"keydown\", keyDownFunction, false);\ndocument.addEventListener(\"keyup\", keyUpFunction, false);","map":{"version":3,"sources":["/home/alexdragus14/Desktop/website_robot_spital/src/index.js"],"names":["React","ReactDOM","RobotInterface","createMuiTheme","blue","green","io","theme","palette","primary","secondary","render","document","getElementById","command_count","socket","connect_to_server","data","WebSocket","addEventListener","event","send","console","log","sensorsInfo","JSON","parse","updateSensors","close","send_data_to_server","computeColor","distance","sensorColor0","sensorColor1","sensorColor2","sensorColor3","sensorColor4","sensorColor5","computeColorDistanceSensors","sensorDistance0","sensorDistance1","sensorDistance2","sensorDistance3","sensorDistance4","sensorDistance5","style","opacity","prev_state","state","keyDownFunction","keycode","keyCode","which","color","keyUpFunction"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport RobotInterface from './RobotInterface';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\nimport green from '@material-ui/core/colors/green';\nimport io from \"socket.io-client\"\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: blue,\n    secondary: green,\n  },\n});\n\nReactDOM.render(<RobotInterface />, document.getElementById('appbody'));\n\nvar command_count = 0;\n/*var ws;\nfunction connect_to_server(data){ \n\tws = io('ws://192.168.0.125:8765', {transports: ['websocket']});\n    ws.on('connect', function() {\n        ws.emit('my connect', {data: 'I\\'m connected!'});\n    });     \n}\n\nfunction send_data_to_server(data){\n\t\tws.emit('my moves', data);\n\t\tcommand_count++;\n\t\tif (command_count > 15) {\n\t\t\tconnect_to_server(state);\n\t\t\tcommand_count = 0;\n\t\t}\n}*/\n\nvar socket;\nfunction connect_to_server(data){\n\tsocket = new WebSocket('ws://192.168.0.125:8765');\n\tsocket.addEventListener('open', function (event) {\n    \tsocket.send('Hello server!');\n\t});\n\n\tsocket.addEventListener('message', function (event) {\n\t    console.log('Message from server ', event.data);\n\t    const sensorsInfo = JSON.parse(event.data);\n\t    updateSensors(sensorsInfo);\n\t});\n\n\tsocket.addEventListener('close', function (event) {\n\t    console.log('Connection closed with the server');\n\t    socket.close();\n\t});\n}\n\nfunction send_data_to_server(data){\n\tsocket.send(data);\n}\n\nfunction computeColor(distance){\n\tif (distance < 150) {\n\t\treturn \"red\";\n\t} else if (distance < 500) {\n\t\treturn \"yellow\";\n\t} else\n\t\treturn \"green\";\n}\n\nvar sensorColor0;\nvar sensorColor1;\nvar sensorColor2;\nvar sensorColor3;\nvar sensorColor4;\nvar sensorColor5;\n\nfunction computeColorDistanceSensors() {\n\n}\n\nfunction  updateSensors(sensorsInfo){\n\tvar sensorDistance0 = sensorsInfo[\"sensor_0\"];\n\tvar sensorDistance1 = sensorsInfo[\"sensor_1\"];\n\tvar sensorDistance2 = sensorsInfo[\"sensor_2\"];\n\tvar sensorDistance3 = sensorsInfo[\"sensor_3\"];\n\tvar sensorDistance4 = sensorsInfo[\"sensor_4\"];\n\tvar sensorDistance5 = sensorsInfo[\"sensor_5\"];\n\n\tcomputeColorDistanceSensors();\n\n\t// front ///////////////////////////////////////////////////////////\n\tif (sensorColor0 == \"red\" || sensorColor1 == \"red\") {\n\t\tdocument.getElementById('macheta_senzori_verde_fata').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_fata').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_fata').style.opacity = 1;\n\t} else if (sensorColor0 == \"yellow\" || sensorColor1 == \"yellow\") {\n\t\tdocument.getElementById('macheta_senzori_verde_fata').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_fata').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_rosu_fata').style.opacity = 0;\n\t} else { // green\n\t\tdocument.getElementById('macheta_senzori_verde_fata').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_galben_fata').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_fata').style.opacity = 0;\n\t}\n\t// right ///////////////////////////////////////////////////////////\n\tif (sensorColor2 == \"red\") {\n\t\tdocument.getElementById('macheta_senzori_verde_dreapta').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_dreapta').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_dreapta').style.opacity = 1;\n\t} else if (sensorColor2 == \"yellow\") {\n\t\tdocument.getElementById('macheta_senzori_verde_dreapta').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_dreapta').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_rosu_dreapta').style.opacity = 0;\n\t} else { // green\n\t\tdocument.getElementById('macheta_senzori_verde_dreapta').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_galben_dreapta').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_dreapta').style.opacity = 0;\n\t}\n\t// back ///////////////////////////////////////////////////////////\n\tif (sensorColor3 == \"red\" || sensorColor4 == \"red\") {\n\t\tdocument.getElementById('macheta_senzori_verde_spate').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_spate').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_spate').style.opacity = 1;\n\t} else if (sensorColor3 == \"yellow\" || sensorColor4 == \"yellow\") {\n\t\tdocument.getElementById('macheta_senzori_verde_spate').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_spate').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_rosu_spate').style.opacity = 0;\n\t} else { // green\n\t\tdocument.getElementById('macheta_senzori_verde_spate').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_galben_spate').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_spate').style.opacity = 0;\n\t}\n\t// left ///////////////////////////////////////////////////////////\n\tif (sensorColor5 == \"red\") {\n\t\tdocument.getElementById('macheta_senzori_verde_stanga').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_stanga').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_stanga').style.opacity = 1;\n\t} else if (sensorColor5 == \"yellow\") {\n\t\tdocument.getElementById('macheta_senzori_verde_stanga').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_galben_stanga').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_rosu_stanga').style.opacity = 0;\n\t} else { // green\n\t\tdocument.getElementById('macheta_senzori_verde_stanga').style.opacity = 1;\n\t\tdocument.getElementById('macheta_senzori_galben_stanga').style.opacity = 0;\n\t\tdocument.getElementById('macheta_senzori_rosu_stanga').style.opacity = 0;\n\t}\n}\n\nvar prev_state = \"connected\";\nvar state;\nconst keyDownFunction = function(event) {\n\tvar keycode = (event.keyCode ? event.keyCode : event.which);\n\tconsole.log(keycode);\n\tprev_state = state;\n\t/*up*/\n\tif (keycode == '38'){\n\t\tstate = \"front\";\n\t\tdocument.getElementById(\"up-arrow\").style.color = \"#34eb71\";\n\t}\n\n\t/*right*/\n\tif (keycode == '39'){\n\t\tstate = \"right\";\n\t\tdocument.getElementById(\"right-arrow\").style.color = \"#34eb71\";\n\t}\n\n\t/*down*/\n\tif (keycode == '40'){\n\t\tstate = \"back\";\n\t\tdocument.getElementById(\"down-arrow\").style.color = \"#34eb71\";\n\t}\n\n\t/*left*/\n\tif (keycode == '37'){ \n\t\tstate = \"left\";\n\t\tdocument.getElementById(\"left-arrow\").style.color = \"#34eb71\";\n\t}\n\n\t/*stop - spacebar*/\n\tif (keycode == '32'){\n\t\tstate = \"stop\";\n\t\tdocument.getElementById(\"space-arrow\").style.color = \"#ff0000\";\n\t}\n\n\tif (prev_state != state) {\n\t\tconsole.log(state);\n\t\tsend_data_to_server(state);\n\t}\n}\n\nconst keyUpFunction = function(event) {\n\tvar keycode = (event.keyCode ? event.keyCode : event.which);\n\tconsole.log(keycode);\n\tprev_state = state;\n\t/*up*/\n\tif (keycode == '38'){\n\t\tstate = \"stop\";\n\t\tdocument.getElementById(\"up-arrow\").style.color = \"#000000\";\n\t}\n\n\t/*right*/\n\tif (keycode == '39'){\n\t\tstate = \"stop\";\n\t\tdocument.getElementById(\"right-arrow\").style.color = \"#000000\";\n\t}\n\n\t/*down*/\n\tif (keycode == '40'){\n\t\tstate = \"stop\";\n\t\tdocument.getElementById(\"down-arrow\").style.color = \"#000000\";\n\t}\n\n\t/*left*/\n\tif (keycode == '37'){ \n\t\tstate = \"stop\";\n\t\tdocument.getElementById(\"left-arrow\").style.color = \"#000000\";\n\t}\n\n\t/*stop - spacebar*/\n\tif (keycode == '32'){\n\t\tstate = \"stop\";\n\t\tdocument.getElementById(\"space-arrow\").style.color = \"#000000\";\n\t}\n\t\tstate = \"stop\";\n\n\tconsole.log(state);\n\tsend_data_to_server(state);\n}\n\nconsole.log(\"websockets connected\");\nconnect_to_server(\"websockets connected\");\ndocument.addEventListener(\"keydown\", keyDownFunction, false);\ndocument.addEventListener(\"keyup\", keyUpFunction, false);"]},"metadata":{},"sourceType":"module"}